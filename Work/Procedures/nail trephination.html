<html>
  <head>
    <title>Nail trephination</title>
    <link rel="stylesheet" href="procedure.css">
  </head>
  <body>
    <h3>Nail trephination</h3>
    <h4>side</h4>
    <input type = "radio" name = "side" value = "0" id = "side" onchange = "copytext()">
    <label for = "0">right</label><br>
    <input type = "radio" name = "side" value = "1" id = "side" onchange = "copytext()">
    <label for = "1">left</label><br>
    <br>

    <label for="digit"><b>Digit</b></label><br>
    <select id = "digit" onchange = "copytext()">
      <option>first</option>
      <option>second</option>
      <option>third</option>
      <option>fourth</option>
      <option>fifth</option>
    </select><br>
    <br>
    <input type = "radio" name = "finger" value = "finger" id = "finger" onchange = "copytext()">
    <label for = "0">finger</label><br>
    <input type = "radio" name = "finger" value = "toe" id = "finger" onchange = "copytext()">
    <label for = "1">toe</label><br>
    <br>
   

    <input type = "checkbox" name = "block" id = "block" onchange = "copytext()">
    <label for = "block">A digital block was performed.</label><br><br>

    <label for="holes">Hole count</label><br>
    <select id = "holes" onchange = "copytext()">
      <option>1</option>
      <option>2</option>
      <option>3</option>
    </select><br>

    <br>

    <textarea id = "text" style = "width:  1000px; height: 200px;"></textarea><br>
    
    <div class="hasBeenCopied"></div>
    
    <button id="copyBtn" onclick="copyEdited()">Copy</button><br>
    
    <footer>
      <div class="dateChanged">12/6/22</div>
      <div class="tested">Works</div>
      <div class="meetsStandard1"></div>
     </footer>
                                               
                            
    
    <script>
      function copyEdited() {
        navigator.clipboard.writeText(document.getElementById("text").value); 
      }
    </script>
      
    <script>
      function copytext(){
        var side = getRadioButtonValue("side");
        var digit = document.getElementById("digit").value;
        var finger = getRadioButtonValue("finger");
        var block = document.getElementById("block").value;
        var holes = document.getElementById("holes").value;
        var t = "";
        switch(side){
          case "0":
            t = t + "right";
            break;
          case "1":
            t = t + "left";
            break;
        }
        t = t + " " + digit + " " + finger+'nail';
        var location = t;
        
        var t = "Procedure Note: Trephination of the "+location+"\n";
        t = t + "The procedure was indicated for a painful subungal hematoma. ";
        t = t + "The risks, benefits, and alternatives were discussed with the patient who gave verbal consent. ";
        if (block == true){
          t = t + "A digital block was performed.";
        }
        t = t + "The nail and surrounding skin was prepped with Betadine.  A high-temperature cauterizer was used to burn ";
        if (holes == 1) {
          t = t + "a hole through the nail.  Blood was expressed through the hole. ";
        }
        else {
          t = t + holes + " holes through the nail.  Blood was expressed through the holes. ";
        }
        t = t + "The patient tolerated the procedure well.  There were no complications. ";
        navigator.clipboard.writeText(t);
        document.getElementById("text").value = t;
      }
      function getRadioButtonValue(name){
        var ele = document.getElementsByName(name);
        for (let i = 0; i < ele.length; i++){
          if (ele[i].checked){
            return(ele[i].value);
          }
        }
        return(-1);
      }
    </script>
  </body>
</html>
