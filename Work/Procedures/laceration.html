<!--
Betadine option
cleaned/irrigated

-->

<html>
  <head>
    <title>Laceration Repair</title>
    <link rel="stylesheet" href="procedure.css">
  </head>
  
  <body>
    <h3>Laceration Repair</h3>
    
    <h4>Wound Description</h4>
    
    <label for="length">Size</label>
    <select id = "length" onchange = "copytext()">
      <option value = "0.5">0.5 cm</option>
      <option value = "1">1 cm</option>
      <option value = "1.5">1.5 cm</option>
      <option value = "2">2 cm</option>
      <option value = "2.5">2.5 cm</option>
      <option value = "3">3 cm</option>
      <option value = "3.5">3.5 cm</option>
      <option value = "4">4 cm</option>
      <option value = "4.5">4.5 cm</option>
      <option value = "5">5 cm</option>
      <option value = "5.5">5.5 cm</option>
      <option value = "6">6 cm</option>
      <option value = "6.5">6.5 cm</option>
      <option value = "7">7 cm</option>
    </select><br><br>
    
    <label for="description">Description</label>
    <select id = "description" onchange = "copytext()">
      <option value = "linear">Linear</option>
      <option value = "curvilinear">Curvilinear</option>
      <option value = "irregular">Irregular</option>
      <option value = "stellate">Stellate</option>
      <option value = "flap">Flap</option>
    </select><br><br>
    
    <label for = "location">Location</label>
    <input type = "text" id = "location">
    
    <h4>Preparation</h4>
    <input type = "radio" id = "cleaned" name = "clean" onchange="copytext" value = "cleaned">
    <label for = "cleaned">Cleaned</label><br>
    <input type = "radio" id = "irrigated" name = "clean" checked onchange="copytext" value = "irrigated">
    <label for = "irrigated">Irrigated</label><br><br>
    
    <h4>Betadine used</h4>
     <input type = "radio" id = "nobetadine" name = "betadine" onchange="copytext" value = "not used">
    <label for = "nobetadine">No</label><br>
    <input type = "radio" id = "betadine" name = "betadine" checked onchange="copytext" value = "used">
    <label for = "betadine">Yes</label><br><br>
    
    
    <h4>Exploration</h4>
    <input type = "checkbox" id = "bpcuff" onchange = "copytext()">
    <label for = "bpcuff">A blood pressure cuff was used to help control bleeding.</label><br>
    <input type = "checkbox" id = "tournicot" onchange = "copytext()">
    <label for = "tournicot">A tournicot was used to control bleeding.</label><br>
    <input type = "checkbox" id = "skinhooks" onchange = "copytext()">
    <label for = "skinhooks">Skin hooks were used.</label><br>
    
    <h4>Contamination</h4>
    <input type = "radio" id = "contamination1" name = "contamination" checked = "true" onchange = "copytext()" value = "There was no contamination or foreign body in the wound. ">
    <label for = "contamination1">There was no contamination.</label><br>
    <input type = "radio" id = "contamination2" name = "contamination" onchange = "copytext()" value = "There was a small amount of contamination in the wound that was easily cleaned out. ">
    <label for = "contamination2">There was a small amount of contamination in the wound that was easily cleaned out.</label><br>

    <br>
    <input type = "radio" name = "tendon" id = "tendon1" onchange = "copytext()" >
    <label for = "tendon1">No tendon was visualized through a full range of motion.</label><br>
    <input type = "radio" name = "tendon" id = "tendon2" onchange = "copytext()">
    <label for = "tendon2">A tendon was inspected through full range of motion and no injury was found.</label><br>
    <input type = "radio" name = "tendon" id = "tendon3" onchange = "copytext()">
    <label for = "tendon3">A tendon was inspected through full range of motion and a injury to the tendon was noted.</label><br><br>
    
    
    <h4>Anesthetic</h4>
    
    <label for = "anesthetic">Anesthetic</label>
    <select id = "anesthetic" onchange = "copytext()">
      <option value = "1% lidocaine">1% lidocaine</option>
      <option value = "1% lidocaine with epinephrine">1% lidocaine with epinephrine</option>
      <option value = "2% lidocaine">2% lidocaine</option>
      <option value = "2% lidocaine with epinephrine">2% lidocaine with epinephrine</option>
    </select><br><br>
    
    <label for = "volume">Volume</label>
    <select id = "volume" onchange = "copytext()">
      <option value = "5">5 cc</option>
      <option value = "1">1 cc</option>
      <option value = "2">2 cc</option>
      <option value = "3">3 cc</option>
      <option value = "4">4 cc</option>
      <option value = "5">5 cc</option>
      <option value = "6">6 cc</option>
      <option value = "7">7 cc</option>
      <option value = "8">8 cc</option>
      <option value = "9">9 cc</option>
      <option value = "10">10 cc</option>
    </select>
   
    <h4>Suture</h4>
    
    <label for = "suture_type">Type of Suture</label>
    <select id = "suture_type" onchange = "copytext()">
      <option value = "nylon">Nylon</option>
      <option value = "Prolene">Prolene</option>
      <option value = "Vicryl">Vicryl</option>
    </select><br><br>
    
    <label for = "suture_size">Suture Size</label>
    <select id = "suture_size" onchange = "copytext()">
      <option value = "4-0">4-0</option>
      <option value = "3-0">3-0</option>
      <option value = "4-0">4-0</option>
      <option value = "5-0">5-0</option>
      <option value = "6-0">6-0</option>
    </select><br><br>
    
    <label for = "suture_count">Number of Sutures</label>
    <select id = "suture_count" onchange = "copytext()">
      <option value = "1">1</option>
      <option value = "2">2</option>
      <option value = "3">3</option>
      <option value = "4">4</option>
      <option value = "5">5</option>
      <option value = "6">6</option>
      <option value = "7">7</option>
      <option value = "8">8</option>
      <option value = "9">9</option>
      <option value = "10">10</option>
      <option value = "11">11</option>
      <option value = "12">12</option>
    </select><br><br>
    
    <label for = "suture_style">Technique</label>
    <select id = "suture_style" onchange = "copytext()">
      <option value = "interrupted">interrupted</option>
      <option value = "running">running</option>
      <option value = "interrupted and running">interrupted and running</option>
    </select><br><br>
      <div class="textarea">
    
    <textarea id = "text"></textarea><br>
   
    
            <br>
    <div class="hasBeenCopied"></div>
    
    <button class="copyBtn" id="copyBtn" onclick="copyEdited()"></button><br>
    </div>
    
    <footer>
      <div class="dateChanged">1/1/23</div>
      <div class="tested">Not tested</div>
      <div class="meetsStandard1"></div>
     </footer>
                                               
                            
    
    <script>
      function copyEdited() {
        navigator.clipboard.writeText(document.getElementById("text").value); 
      }
    </script>
  
    
    <script>
      function copytext(){
        var wound_length = document.getElementById("length").value;
        var description = document.getElementById("description").value;
        var location = document.getElementById("location").value;
        var anesthetic = document.getElementById("anesthetic").value;
        var suture_size = document.getElementById("suture_size").value;
        var suture_type = document.getElementById("suture_type").value;
        var volume = document.getElementById("volume").value;
        var suture_count = document.getElementById("suture_count").value;
        var suture_style = document.getElementById("suture_style").value;
        var bpcuff = document.getElementById("bpcuff").checked;
        var tournicot = document.getElementById("tournicot").checked;
        var skinhooks = document.getElementById("skinhooks").checked;
        var contamination = getRadioButtonValue('contamination');
        var tendon = getRadioButtonValue("tendon");
        var betadine = getRadioButtonValue("betadine");
        var clean = getRadioButtonValue('clean');
        var t = "";
        t = "Procedure Note:  Laceration repair on the "+location+"\n";
        t = t + "The area around the " + wound_length + " cm " + description + " laceration on the "+location+" was ";
        if (betadine == "Yes") {  
          t = t + "prepped with Betadine and ";
        }
        t = t + "draped sterilely and then ";
        t = t + "infiltrated with "+volume +" cc of "+ anesthetic + ". ";
        t = t + "The wound was " + clean + " thoroughly with normal saline. ";
        if (bpcuff) {
          t = t + "A blood pressure cuff was used to help control bleeding. ";
        }
        if (tournicot) {
          t = t + "A tournicot was used to control bleeding. ";
        }
        t = t + "The wound was explored ";
        if (skinhooks) {
          t = t + "using skinhooks ";
        }
        t = t + "in a bloodless field. ";
        t  = t + contamination;
        switch(tendon) {
          case 0:
            t = t + " Careful exploration to the bottom of the wound found no tendon or other deep structures. ";
            break;
          case 1:
            t = t + " Exposed tendons were visualized through a full range of motion in a bloodless field and no injury was found.  ";
            break;
          case 2:
            t = t + " Exposed tendons were visualized through a full range of motion in a bloodless field and an injury was found.  ";
            break;
        }
        
        t = t + "The wound was closed with " + suture_count + " " + suture_style + " sutures using " + suture_size + " " + suture_type + ".  ";
        t = t + "The patient tolerated the procedure well.  There were no complications."
        document.getElementById("text").value = t;
        navigator.clipboard.writeText(t);
      }
      function getRadioButtonValue(name){
        var ele = document.getElementsByName(name);
        for (let i = 0; i < ele.length; i++){
          if (ele[i].checked){
            return(ele[i].value);
          }
        }
        return(-1);
      }
    </script>
  </body>
</html>
