<html>
  <head>
    <title>
        Priapism management
    </title>
    <link rel="stylesheet" href="procedure.css">
  </head>
  <body>
    <h3>
    Priapism management
    </h3>
    <a href = "https://coreem.net/core/priapism/">Link to description of procedure technique</a><br>
    <a href = "..\Equipment\priapism.html">Equipment list</a><br>
    
    <h4>Position</h4>
    <input type = "radio" name = "position" value = "left" id = "left" onchange = "copytext()">
    <label for = "left">2 o'clock (left)</label><br>
    <input type = "radio" name = "position" value = "right" id = "right" onchange = "copytext()">
    <label for = "right">10 o'clock (right)</label><br>
    <!--input type = "radio" name = "position" value = "right and left" onchange = "copytext()">
    <label for = "right and left">2 o'clock & 10 o'clock</label><br-->
<br>
    
        <h4>Result</h4>
    <input type = "radio" name = "result" value = "arterial" id = "result1" onchange = "copytext()">
    <label for = "result1">arterial blood returned </label><br>
    <input type = "radio" name = "result" value = "detumescence" id = "result2" onchange = "copytext()">
    <label for = "result2">detumescence was achieved</label><br>
<br>

    <h4>Phenylephrine</h4>
    <label for="dose">Amount used</label><br>
    <select id = "dose" onchange='copytext()'>
      <option value = "0">None</option>
      <option value = "100">100 mcg</option>
      <option value = "200">200 mcg</option>
      <option value = "300">300 mcg</option>
      <option value = "400">400 mcg</option>
      <option value = "500">500 mcg</option>
    </select><br><br>
    
    <input type = "checkbox" id = "multiple" onchange="copytext()">
    <label for = "multiple">Multiple injections were required</label><br><br>
    <div class="textarea">
      <textarea id = "text"></textarea><br>
      <br>
      <div class="hasBeenCopied"></div>

      <button class="copyBtn" id="copyBtn" onclick="copyEdited()"></button><br>
    </div>
    <footer>
      <div class="dateChanged">12/6/22</div>
      <div class="tested">Works</div>
      <div class="meetsStandard2"></div>
     </footer>
                                               
                            
    
    <script>
      function copyEdited() {
        navigator.clipboard.writeText(document.getElementById("text").value); 
      }
    </script>
  
    <script>
      function copytext(){
        var position = getRadioButtonValue("position");
        var result = getRadioButtonValue("result");
        var multiple = document.getElementById("multiple").checked;
        var dose = document.getElementById("dose").value
        var t = "Procedure Note: Priapism Management \n";
        t = t + "The procedure was indicated for prolonged erection greater than 4 hours. ";
        t = t + "The risks, benefits and alternatives were discussed with the patient who provided verbal consent. ";
        t = t + "The patient was placed on a cardiac monitor and frequent blood pressure checks were performed.  ";
        t = t + "The skin was prepped in the typical sterile fashion.  ";
        t = t + "A butterfly needle was inserted into the corpus cavernosa at the ";
        switch(position) {
          case "right":
            t = t + "10 o'clock position. ";
            break;
          case "left":
            t = t + "2 o'clock position. ";
            break;
       //   case "right & left":
       //     t = t= + "2 o'clock and 10 o'clock positions. ";
       //     break;
        }
        t = t + " Blood was aspirated until ";
        switch(result) {
          case "arterial":
            t =t + "arterial blood was returned. "
            break;
          case "detumescence":
            t = t + "detumescence was achieved. ";
            break;
        }
        if (multiple) {
          t = t + "Multiple injections of phenylephrine were required for a total of " + String(dose) + "mcg. ";
        }
        else {
          t = t + String(dose) + " mcg of phenylephrine were injected. ";
        }
        t = t + "The patient tolerated the procedure well.  There were no complications. ";

        navigator.clipboard.writeText(t);
        document.getElementById("text").value = t;
      }
      function getRadioButtonValue(name){
        var ele = document.getElementsByName(name);
        for (let i = 0; i < ele.length; i++){
          if (ele[i].checked){
            return(ele[i].value);
          }
        }
        return('____________');
      }
    </script>
  </body>
</html>
