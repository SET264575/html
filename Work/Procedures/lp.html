<html>
    <head>
        <title>Lumbar puncture</title>
        <link rel='stylesheet' href='procedure.css'>
    </head>
    <body>
        <h3>Lumbar Puncture</h3>
        
        <h4>Indication</h4>
<input type = "radio" name = "indication" value = "0" id = "indication" onchange = "copytext()">
<label for = "0">meningitis</label><br>
<input type = "radio" name = "indication" value = "1" id = "indication" onchange = "copytext()">
<label for = "1">subarachnoid hemorrhage</label><br><br>
        
        <h4>Consent</h4>
        <input type = 'radio' id = "consent" name = "consent" value = 0 onchange = "copytext()">
        <label for = "consent">Unable to consent</label><br>
        <input type = 'radio' id = "consent" name = "consent" value = 1 onchange = "copytext()">
        <label for = "consent">Patient consented</label><br>
        <input type = 'radio' id = "consent" name = "consent" value = 2 onchange = "copytext()">
        <label for = "consent">Parent consented</label><br><br>

                       

        <input type = "checkbox" id = "lidocaine" onchange= "copytext()">
        <label for="lidocaine">Lidocaine was used</option><br>
               
               <h4>Needle Size</h4>
    <input type = "radio" name = "needle" value = "0" id = "needle" onchange = "copytext()">
<label for = "0">20 gauge</label><br>
<input type = "radio" name = "needle" value = "1" id = "needle" onchange = "copytext()">
<label for = "1">22 gauge</label><br>
<input type = "radio" name = "needle" value = "2" id = "needle" onchange = "copytext()">
<label for = "2">24 gauge</label><br><br>
    
        <h4>Interspace</h4>
    <input type = "radio" name = "interspace" value = "0" id = "interspace" onchange = "copytext()">
<label for = "0">L3-L4</label><br>
<input type = "radio" name = "interspace" value = "1" id = "interspace" onchange = "copytext()">
<label for = "1">L4-L5</label><br><br>

        <h4>Fluid color</h4>
        <input type = "radio" name = "color" value = "0" id = "color" onchange = "copytext()">
<label for = "0">clear</label><br>
<input type = "radio" name = "color" value = "1" id = "color" onchange = "copytext()">
<label for = "1">cloudy</label><br>
<input type = "radio" name = "color" value = "2" id = "color" onchange = "copytext()">
<label for = "2">bloody</label><br><br>
        
        <label for = "pressure">Opening pressure</label>
        <input type="text" id = "pressure" onchange = "copytext()"><br><br>

    <textarea id = "text" style = "width:  1000px; height: 200px;"></textarea><br><br>
        
    <h4>This text has been copied to the clipboard and is ready to be pasted in your document.<br>
        If you have edited the text, you can copy the text to the clipboard with the button below.</h4>
    <button id="copyBtn" onclick="copyEdited()">Copy edited text</button><br>
    
    <footer>
      <div class="dateChanged">12/6/22</div>
      <div class="tested">Works</div>
     </footer>
                                               
                            
    
    <script>
      function copyEdited() {
        navigator.clipboard.writeText(document.getElementById("text").value); 
      }
    </script>
      
<script>
    function copytext(){
        var needle = getRadioButtonValue("needle");
        var indication = getRadioButtonValue("indication");
        var interspace = getRadioButtonValue("interspace");
        var color = getRadioButtonValue("color");
        var pressure = document.getElementById("pressure").value;
        var lidocaine = document.getElementById("lidocaine").checked;
        var consent = getRadioButtonValue("consent");


        var t = "Procedure Note:  Lumbar puncture\n";
        t = t + "The procedure was indicated to rule out ";
        switch(indication){
            case "0":
                t = t + "meningitis";
                break;
            case "1":
                t = t + "subarachnoid hemorrhage";
            break;
        }
        t = t + ". ";
        switch(consent) {
            case 0:
                t = t + "The patient was unable to provide consent to the procedure due to mental status changes.";
                break;
            case 1:
                t = t + "The risks, benefits and alternatives were explained to the patient who provided written consent for the procedure. ";
                break;
            case 2:
                t = t + "The risks, benefits and alternatives were explained to the patient's parent who provided written consent for the procedure. ";
                break;
        }
                
        t = t + "The patient was placed in a right lateral decubitus position. ";
        t = t + "The procedure was performed under sterile conditions.  A wide area around the puncture site was prepped and draped sterilely using Betadine. ";
        if (lidocaine) {
            t = t + "The puncture site was anesthetized with 1% lidocaine. ";
        }
        
        t = t + "A ";
        switch(needle){
            case "0":
                t = t + "20 gauge";
                break;
            case "1":
                t = t + "22 gauge";
                break;
            case "2":
                t = t + "24 gauge";
                break;
        }
        t = t + " was inserted into the ";
    
        switch(interspace){
             case "0":
                t = t + "L3-L4";
                break;
              case "1":
                t = t + "L4-L5";
                break;
        }
        t = t + " interspace and approximately 4 cc of ";  
        switch(color){
            case "0":
                t = t + "clear";
                break;
            case "1":
                t = t + "cloudy";
                break;
            case "2":
                t = t + "bloody";
                break;
        }
        t = t + " fluid was obtained and sent for studies. ";
        if (pressure != '') {t = t + "Opening pressure was " + pressure + " cm water. ";}
        t = t + "The needle was withdrawn, the puncture site was covered with a Band-Aid and the patient was placed prone. ";
        t = t + "The patient tolerated the procedure well.  There were no complications.";
        document.getElementById("text").value = t;
        navigator.clipboard.writeText(t);
    }
    
          
      function getRadioButtonValue(name){
        var ele = document.getElementsByName(name);
        for (let i = 0; i < ele.length; i++){
          if (ele[i].checked){
            return(ele[i].value);
          }
        }
        return(-1);
      }
    </script>
        
    </body>
    
    
        
</html>
    



