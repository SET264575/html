<html>
  <head>
    <title>Sepsis</title>
    <link rel="stylesheet" href="sepsis.css">
    <style>
      ztable {
        margin-left: auto;
        margin-right: auto;
      }
      #flowchart td {
        text-align: center;
      }
      .td1 {
        width: 200px;
      }
      .td2 {
        width: 100px;
      }
      .td3 {
        width: 100px;
      }
      button {
        width: 100px;
        height: 50px;
	      
      }
      </style>
  </head>
  <body>
          
    <div class="header" id = "header">
      <!--h3>The following text has been copied to the clipboard and is ready to be pasted into your document.</h3-->
      <table style="width: 100%">
        <td style = "padding: 10px"></td>
        <td style = "width: 85%; padding: 10px"><textarea id="text"></textarea></td>
      </table>
    </div>
    <div class = "main">
      <div id = "div_left">
        <div id = "flowchart">      
          <p id='table'></p>
        </div>
      </div>
    
      <div id="div_right">
        <div class="hidden" id="div_sepsis0">
          <h4>Not Sepsis Due to SIRS not meet</h4>
          <div class="block">
            <ul class="radiobutton">
              <li><input type="checkbox" id = "sirs-tachycardia" onclick="copytext(this.id)" value = "tachycardia"><label for="sirs-tachycardia">Tachycardia</label></li>
              <li><input type="checkbox" id = "sirs-tachypnea" onclick="copytext(this.id)" value = "tachypnea"><label for="sirs-tachypnea">Tachypnea</label></li>
              <li><input type="checkbox" id = "sirs-fever" onclick="copytext(this.id)" value = "fever"><label for="sirs-tachycardia">Fever</label></li>
              <li><input type="checkbox" id = "sirs-hypothermia" onclick="copytext(this.id)" value = "hypothermia"><label for="sirs-hypothermia">Hypothermia</label></li>
              <li><input type="checkbox" id = "sirs-leukocytosis" onclick="copytext(this.id)" value = "leukocytosis"><label for="sirs-leukocytosis">Leukocytosis</label></li>
            </ul>
          </div>
        </div>

        <div class="hidden" id="div_sepsis1">
          <h4>Not Sepsis Due to Other Causes of SIRS</h4>
          <div class="block">
            <ul class="radiobutton">
              <li><input type="checkbox" id = "othersirs-tachycardia" onclick="show(this.id)" value = "tachycardia"><label for="othersirs-tachycardia">Tachycardia</label></li>
              <li><input type="checkbox" id = "othersirs-tachypnea" onclick="show(this.id)" value = "tachypnea"><label for="othersirs-tachypnea">Tachypnea</label></li>
              <li><input type="checkbox" id = "othersirs-fever" onclick="show(this.id)" value = "fever"><label for="othersirs-tachycardia">Fever</label></li>
              <li><input type="checkbox" id = "othersirs-hypothermia" onclick="show(this.id)" value = "hypothermia"><label for="othersirs-hypothermia">Hypothermia</label></li>
              <li><input type="checkbox" id = "othersirs-leukocytosis" onclick="show(this.id)" value = "leukocytosis"><label for="othersirs-leukocytosis">Leukocytosis</label></li>
            </ul>
          </div>
          <div class="block">
            <ul class="radiobutton">
              <h5>Tachycardia is due to:</h5>
              <li><input type="checkbox" id = "othersirs-tachycardia-cause1" onclick="copytext(this.id)" value = "drugs"><label for="othersirs-tachycardia-cause1">drugs</label></li>
              <li><input type="checkbox" id = "othersirs-tachycardia-cause2" onclick="copytext(this.id)" value = "anxiety"><label for="othersirs-tachycardia-cause2">anxiety</label></li>
              <li><input type="checkbox" id = "othersirs-tachycardia-cause3" onclick="copytext(this.id)" value = "pain"><label for="othersirs-tachycardia-cause3">pain</label></li>
              <li><input type="checkbox" id = "othersirs-tachycardia-cause4" onclick="copytext(this.id)" value = "pulmonary embolism"><label for="othersirs-tachycardia-cause4">PE</label></li>
              <li><input type="checkbox" id = "othersirs-tachycardia-cause5" onclick="copytext(this.id)" value = "atrial fibrillation with RVR"><label for="othersirs-tachycardia-cause5">atrial fibrillation with RVR</label></li>
            </ul>
          </div>
        </div>

        <div class="hidden" id="div_sepsis2">
          <h4>Not Sepsis Due to No Infection</h4>
        </div>

        <div class="hidden" id="div_sepsis3">
          <h4>Not Sepsis Due to Viral Infection</h4>
        </div>

        <div class="hidden" id="div_sepsis4">
          <h4>Sepsis, but No Organ Dysfunction</h4>
        </div>

        <div class="hidden" id="div_sepsis5">
          <h4>Sepsis, Not Severe Because Organ Dysfunction Not Due To Infection</h4>
        </div>

        <div class="hidden" id="div_sepsis6">
          <h4>Septic Shock Due to Lactate</h4>
        </div>

        <div class="hidden" id="div_sepsis7">
          <h4>Septic Shock Due to Persistent Hypotension</h4>
        </div>
        <div class="hidden" id="div_sepsis8">
          <h4>Severe Sepsis, No Shock</h4>
        </div>
      </div>
    </div>
	  
      <script>
        var list = [];
        var t = "<table>";
        list.push(['SIRS?','No','Not Sepsis']);
        list.push(['Infection?','No','Not Sepsis']);
        list.push(['Viral infection?','Yes','No Antibiotics Required']);
        list.push(['Bacterial infection?','No','Not Sepsis']);
        list.push(['Organ dysfunction?','No','Sepsis']);
        list.push(['Other causes of organ dysfunction?','Yes','Sepsis']);
        list.push(['Lactate > 4?','Yes','Septic Shock']);
        list.push(['Persistent hypotension?','Yes','Septic Shock']);
        for (let i = 0; i<list.length;i++){
          t = t + '<tr><td class="td1">'+list[i][0]+'</td><td class="td2">'+list[i][1]+'<br>\u2192</td><td class="td3"><button id = "sepsis'+String(i)+'" onclick="go(this.id)">'+list[i][2]+'</button></td></tr>';
          t = t + '<tr><td>\u2193';
          if (list[i][2] == "No") {
            t = t + "Yes";
          }
          else {
            t =t + "No";
          }
          t = t + '</td><td></td><td></td></tr>';
        }
        t = t + '<tr><td class="td1"><button id="sepsis8" onclick="go(this.id)">Severe Sepsis</button></td></tr></table>';
        document.getElementById('table').innerHTML = t;
        
        function go(id) {
          document.getElementById('flowchart').style.display = "none";
          document.getElementById('div_'+id).style.display = "block";
         /* switch (id) {
            case "sepsis0":
              show('div_sepsis0');
              break;
            case "sepsis1":
              break;
            case "sepsis2":
              break;
            case "sepsis3":
              break;
            case "sepsis4":
              break;
            case "sepsis5":
              break;
            case "sepsis6":
              break;
            case "sepsis7":
              break;
            case "sepsis8":
              break;
          }*/
        }
        
        function copytext(id) {
          var t = "";
          var value = document.getElementById(id).value;
          t = "At "+ currentTime()+", ";
          switch(id) {
            case "sirs-tachycardia","sirs-tachypnea","sirs-fever","sirs-hypothermia","sirs-leukocytosis":
              t = t + "SIRS criteria is not met with only "+value+" currenty present. ";
              break;
           case "othersirs-tachycardia-cause1","othersirs-tachycardia-cause2","othersirs-tachycardia-cause3","othersirs-tachycardia-cause4","othersirs-tachycardia-cause5":
              t = t + "SIRS criteria are technically met, however, tachycardia is due to "+ value + " rather than infection. ";

              break;
          }
          document.getElementById('text').value = t;
        }
          
        function currentTime(){
          var x = Date().toLocaleString();
          return(x.slice(16,21));
        }
      </script>
    </div>
  </body>
</html>
  
