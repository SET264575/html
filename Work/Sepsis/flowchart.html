<html>
  <head>
    <title>Sepsis</title>
    <link rel="stylesheet" href="sepsis.css">
    <style>
      ztable {
        margin-left: auto;
        margin-right: auto;
      }
      #flowchart td {
        text-align: center;
      }
      .td1 {
        width: 200px;
      }
      .td2 {
        width: 100px;
      }
      .td3 {
        width: 100px;
      }
      button {
        width: 100px;
        height: 50px;
	      
      }
      </style>
  </head>
  <body>
          
    <div class="header" id = "header">
      <!--h3>The following text has been copied to the clipboard and is ready to be pasted into your document.</h3-->
      <table style="width: 100%">
        <td style = "padding: 10px"></td>
        <td style = "width: 85%; padding: 10px"><textarea id="text"></textarea></td>
      </table>
    </div>
    <div class = "main">
      <div id = "div_left">
        <div id = "flowchart">      
          <p id='table'></p>
        </div>
      </div>
    
      <div id="div_right">
        <div class="hidden" id="div_sepsis0">
          <h4>Not Sepsis Due to SIRS Criteria Not Met</h4>
          <div class="block">
            <ul class="radiobutton">
              <li><input type="radio" name = "sirs" id = "sirs-tachycardia" onclick="copytext(this.id)" value = "tachycardia"><label for="sirs-tachycardia">Tachycardia</label></li>
              <li><input type="radio" name = "sirs" id = "sirs-tachypnea" onclick="copytext(this.id)" value = "tachypnea"><label for="sirs-tachypnea">Tachypnea</label></li>
              <li><input type="radio" name = "sirs" id = "sirs-fever" onclick="copytext(this.id)" value = "fever"><label for="sirs-tachycardia">Fever</label></li>
              <li><input type="radio" name = "sirs" id = "sirs-hypothermia" onclick="copytext(this.id)" value = "hypothermia"><label for="sirs-hypothermia">Hypothermia</label></li>
              <li><input type="radio" name = "sirs" id = "sirs-leukocytosis" onclick="copytext(this.id)" value = "leukocytosis"><label for="sirs-leukocytosis">Leukocytosis</label></li>
            </ul>
          </div>
        </div>

        <div class="hidden" id="div_sepsis1">
          <h4>Not Sepsis Due to Other Causes of SIRS</h4>
          <div class="block">
            <ul class="radiobutton">
              <li><input type="checkbox" name="othersirs" id = "othersirs-tachycardia" onclick="show(this.id)" value = "tachycardia"><label for="othersirs-tachycardia">Tachycardia</label></li>
              <li><input type="checkbox" name="othersirs" id = "othersirs-tachypnea" onclick="show(this.id)" value = "tachypnea"><label for="othersirs-tachypnea">Tachypnea</label></li>
              <li><input type="checkbox" name="othersirs" id = "othersirs-fever" onclick="show(this.id)" value = "fever"><label for="othersirs-tachycardia">Fever</label></li>
              <li><input type="checkbox" name="othersirs" id = "othersirs-hypothermia" onclick="show(this.id)" value = "hypothermia"><label for="othersirs-hypothermia">Hypothermia</label></li>
              <li><input type="checkbox" name="othersirs" id = "othersirs-leukocytosis" onclick="show(this.id)" value = "leukocytosis"><label for="othersirs-leukocytosis">Leukocytosis</label></li>
            </ul>
          </div>
          <div class="block">
            <ul class="radiobutton">
              <h5>Tachycardia is due to:</h5>
              <li><input type="radio" name = "fasthr" id = "othersirs-tachycardia-cause1" onclick="copytext(this.id)" value = "drugs"><label for="othersirs-tachycardia-cause1">drugs</label></li>
              <li><input type="radio"  name = "fasthr" id = "othersirs-tachycardia-cause2" onclick="copytext(this.id)" value = "anxiety"><label for="othersirs-tachycardia-cause2">anxiety</label></li>
              <li><input type="radio"  name = "fasthr" id = "othersirs-tachycardia-cause3" onclick="copytext(this.id)" value = "pain"><label for="othersirs-tachycardia-cause3">pain</label></li>
              <li><input type="radio"  name = "fasthr" id = "othersirs-tachycardia-cause4" onclick="copytext(this.id)" value = "pulmonary embolism"><label for="othersirs-tachycardia-cause4">PE</label></li>
              <li><input type="radio"  name = "fasthr" id = "othersirs-tachycardia-cause5" onclick="copytext(this.id)" value = "atrial fibrillation with RVR"><label for="othersirs-tachycardia-cause5">atrial fibrillation with RVR</label></li>
            </ul>
          </div>
          <div class="block">
            <ul class="radiobutton">
              <h5>Tachypnea is due to:</h5>
              <li><input type="radio" name = "fastrr" id = "othersirs-tachypnea-cause1" onclick="copytext(this.id)" value = "COPD exacerbation"><label for="othersirs-tachypnea-cause1">COPD exacerbation</label></li>
              <li><input type="radio" name = "fastrr" id = "othersirs-tachypnea-cause2" onclick="copytext(this.id)" value = "anxiety"><label for="othersirs-tachypnea-cause2">anxiety</label></li>
              <li><input type="radio" name = "fastrr" id = "othersirs-tachypnea-cause3" onclick="copytext(this.id)" value = "pain"><label for="othersirs-tachypnea-cause3">pain</label></li>
              <li><input type="radio" name = "fastrr" id = "othersirs-tachypnea-cause4" onclick="copytext(this.id)" value = "pulmonary embolism"><label for="othersirs-tachypnea-cause4">PE</label></li>
              <li><input type="radio" name = "fastrr" id = "othersirs-tachypnea-cause5" onclick="copytext(this.id)" value = "CHF"><label for="othersirs-tachycardia-cause5">CHF</label></li>
            </ul>
          </div>
          <div class="block">
            <ul class="radiobutton">
              <h5>Fever is due to:</h5>
              <li><input type="radio" name="fever" id = "othersirs-fever-cause1" onclick="copytext(this.id)" value = "drug reaction"><label for="othersirs-fever-cause1">drug reaction</label></li>
              <li><input type="radio" name="fever" id = "othersirs-fever-cause2" onclick="copytext(this.id)" value = "heat exposure"><label for="othersirs-fever-cause2">heat exposure</label></li>
              <li><input type="radio" name="fever" id = "othersirs-fever-cause3" onclick="copytext(this.id)" value = "overexertion"><label for="othersirs-fever-cause3">overexertion</label></li>
            </ul>
          </div>
          <div class="block">
            <ul class="radiobutton">
              <h5>Leukocytosis is due to:</h5>
              <li><input type="radio" name="leukocytosis" id = "othersirs-leukocytosis-cause1" onclick="copytext(this.id)" value = "steroid use"><label for="othersirs-leukocytosis-cause1">steroid use</label></li>
              <li><input type="radio" name="leukocytosis" id = "othersirs-leukocytosis-cause2" onclick="copytext(this.id)" value = "leukemia"><label for="othersirs-leukocytosis-cause2">leukemia</label></li>
              <li><input type="radio" name="leukocytosis" id = "othersirs-leukocytosis-cause3" onclick="copytext(this.id)" value = "stress-induced demargination"><label for="othersirs-leukocytosis-cause3">stress-induced demargination</label></li>
            </ul>
          </div>
        </div>
	      
        <div class="hidden" id="div_sepsis2">
          <h4>Not Sepsis Due to No Infection</h4>
          <ul class="radiobutton">
          <h5>SIRS is due to:</h5>
              <li><input type="radio" name="othercause" id = "othersirs-cause1" onclick="copytext(this.id)" value = "pancreatitis"><label for="othersirs-cause1">pancreatitis</label></li>
              <li><input type="radio" name="othercause"  id = "othersirs-cause2" onclick="copytext(this.id)" value = "pulmonary embolism"><label for="othersirs-cause2">pulmonary embolism</label></li>
              <li><input type="radio" name="othercause"  id = "othersirs-cause3" onclick="copytext(this.id)" value = "[noninfectious cause of SIRS]"><label for="othersirs-cause3">[other cause of SIRS]</label></li>
          </ul>
        </div>

        <div class="hidden" id="div_sepsis3">
          <h4>Not Sepsis Due to Viral Infection</h4>
          <ul class="radiobutton">
          <h5>SIRS is due to:</h5>
              <li><input type="radio" name="viral-cause" id = "viral-cause2" onclick="copytext(this.id)" value = "Covid-19"><label for="viral-cause2">Covid-19</label></li>
              <li><input type="radio" name="viral-cause" id = "viral-cause5" onclick="copytext(this.id)" value = "human metapneumovirus"><label for="viral-cause5">human metapneumovirus</label></li>
              <li><input type="radio" name="viral-cause" id = "viral-cause1" onclick="copytext(this.id)" value = "influenza"><label for="viral-cause1">influenza</label></li>
              <li><input type="radio" name="viral-cause" id = "viral-cause4" onclick="copytext(this.id)" value = "RSV"><label for="viral-cause4">RSV</label></li>
              <li><input type="radio" name="viral-cause" id = "viral-cause3" onclick="copytext(this.id)" value = "[noninfectious cause of SIRS]"><label for="viral-cause3">[other cause of SIRS]</label></li>
          </ul>
        </div>

        <div class="hidden" id="div_sepsis4">
          <h4>Sepsis, but No Organ Dysfunction</h4>
          <ul class="radiobutton">
            <li><input type="radio" id = "sepsisregular" onclick="copytext(this.id)" value = ""><label for="sepsisregular">No Organ Dysfunction Present</label></li>
          </ul>
        </div>

        <div class="hidden" id="div_sepsis5">
          <h4>Sepsis, Not Severe Because Organ Dysfunction Not Due To Infection</h4>
        </div>

        <div class="hidden" id="div_sepsis6">
          <h4>Septic Shock Due to Lactate</h4>
        </div>

        <div class="hidden" id="div_sepsis7">
          <h4>Septic Shock Due to Persistent Hypotension</h4>
        </div>
        <div class="hidden" id="div_sepsis8">
          <h4>Severe Sepsis, No Shock</h4>
        </div>
      </div>
    </div>
	  
      <script>
        var list = [];
        var t = "<table>";
        list.push(['SIRS?','No','Not Sepsis']);
        list.push(['Infection?','No','Not Sepsis']);
        list.push(['Viral infection?','Yes','No Antibiotics Required']);
        list.push(['Bacterial infection?','No','Not Sepsis']);
        list.push(['Organ dysfunction?','No','Sepsis']);
        list.push(['Other causes of organ dysfunction?','Yes','Sepsis']);
        list.push(['Lactate > 4?','Yes','Septic Shock']);
        list.push(['Persistent hypotension?','Yes','Septic Shock']);
        for (let i = 0; i<list.length;i++){
          t = t + '<tr><td class="td1">'+list[i][0]+'</td><td class="td2">'+list[i][1]+'<br>\u2192</td><td class="td3"><button id = "sepsis'+String(i)+'" onclick="go(this.id)">'+list[i][2]+'</button></td></tr>';
          t = t + '<tr><td>\u2193';
          if (list[i][1] == "No") {
            t = t + "Yes";
          }
          else {
            t =t + "No";
          }
          t = t + '</td><td></td><td></td></tr>';
        }
        t = t + '<tr><td class="td1"><button id="sepsis8" onclick="go(this.id)">Severe Sepsis</button></td></tr></table>';
        document.getElementById('table').innerHTML = t;
        
        function go(id) {
         // document.getElementById('flowchart').style.display = "none";
          document.getElementById('div_'+id).style.display = "block";
         /* switch (id) {
            case "sepsis0":
              show('div_sepsis0');
              break;
            case "sepsis1":
              break;
            case "sepsis2":
              break;
            case "sepsis3":
              break;
            case "sepsis4":
              break;
            case "sepsis5":
              break;
            case "sepsis6":
              break;
            case "sepsis7":
              break;
            case "sepsis8":
              break;
          }*/
        }
        
        function copytext(id) {
          var t = "";
          var value = document.getElementById(id).value;
          t = "At "+ currentTime()+", ";
          switch(id) {
            case "sirs-tachycardia":
            case "sirs-tachypnea":
            case "sirs-fever":
            case "sirs-hypothermia": 
            case "sirs-leukocytosis":
              t = t + "SIRS criteria is not met with only "+value+" currenty present. ";
              break;
            case "othersirs-tachycardia-cause1":
            case "othersirs-tachycardia-cause2":
            case "othersirs-tachycardia-cause3":
            case "othersirs-tachycardia-cause4":
            case "othersirs-tachycardia-cause5":
              t = t + "SIRS criteria are technically met, however, tachycardia is due to "+ value + " rather than infection. ";
              break;
            case "othersirs-tachypnea-cause1":
            case "othersirs-tachypnea-cause2":
            case "othersirs-tachypnea-cause3":
            case "othersirs-tachypnea-cause4":
            case "othersirs-tachypnea-cause5":
              t = t + "SIRS criteria are technically met, however, tachypnea is due to "+ value + " rather than infection. ";
              break;
                          
            case "othersirs-fever-cause1":
            case "othersirs-fever-cause2":
            case "othersirs-fever-cause3":
              t = t + "SIRS criteria are technically met, however, fever is due to "+ value + " rather than infection. ";
              break;
	          case "othersirs-leukocytosis-cause1":
            case "othersirs-leukocytosis-cause2":
            case "othersirs-leukocytosis-cause3":
              t = t + "SIRS criteria are technically met, however, leukocytosis is due to "+ value + " rather than infection. ";
              break;
            case "othersirs-cause1":
            case "othersirs-cause2":
            case "othersirs-cause3":
              t = t + "SIRS criteria is met, however, they are due to " + value + " rather than infection. ";
              break;
                          
            case "viral-cause1":
            case "viral-cause2":
            case "viral-cause3":
            case "viral-cause4":
            case "viral-cause5":
              t = t + "SIRS criteria is met, however, they are due to " + value + ", a viral infection for which antibiotics are not indicated. ";
              break;
            case "sepsisregular":
              t = t + "The patient meets SIRS criteria due to a bacterial infection, but there is no evidence of acute organ dysfunction, so severe sepsis is not present. ";
              

          }
          document.getElementById('text').value = t;
        }
          
        function currentTime(){
          var x = Date().toLocaleString();
          return(x.slice(16,21));
        }
      </script>
    </div>
  </body>
</html>
  
