<html>
  <head>
    <style>
      .header {
        background-color: #f2f2f2;
        width: 100%;
        height: 200px;
        position: fixed;
        top: 0;
        left: 0;
      }
      
      .main {
        margin-top: 310px;
      }
      
      .collapsible {
        background-color: lightskyblue;
        color: #444;
        cursor: pointer;
        padding: 18px;
        width: 100%;
        border: none;
        text-align: left;
        outline: none;
        font-size: 1em;
        font-family: Arial;
      }

      /* Add a background color to the button if it is clicked on (add the .active class with JS), and when you move the mouse over it (hover) */
      .active, .collapsible:hover {
        background-color: deepskyblue;
      }

      /* Style the collapsible content. Note: hidden by default */
      .content {
        padding: 0 18px;
        display: none;
        overflow: hidden;
        margin: 20px;
        background-color: white;
      }
      
      .choicebutton {
        height: 40px;
        background-color: lightgray;
        border-radius: 5px;
        checked: false;
      }
      
      .choicebutton:hover {
        background-color: skyblue;
      }
      
      .headingbutton {
        background-color:  deepskyblue;
        font-family: Arial;
        font-size: 1em;
      }
      
      .subheadingbutton {
        background-color:  lightskyblue;;
        font-family: Arial;
        font-size: 1em;
        margin-left: 30px;
        margin-right: 30px;
      }
      
      .show {
        display: block;
      }
      
      h3 { 
        text-align: center;
      }
      
      h4 {
        margin-left: 20px;
        color: blue;
      }
      h5 {
        margin-left: 30px;
        color: purple;
      }
      input {
        margin-left: 40px;
      }
      
      textarea {
        width: 90%;
        height: 100px;
        border: 1px solid black;
        text-align: center;
        margin: auto;
      }
      
      .radiobutton {
        list-style-type: none;
        margin: 25px 0 0 0;
        text-align: center;
        padding: 0;
      }

      .radiobutton li {
        float: left;
        margin: 0 5px 0 0;
        width: 100px;
        height: 50px;
        position: relative;
      }

      .radiobutton label,
      .radiobutton input {
        display: block;
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: lightgray;
      }

      .radiobutton input[type="radio"] {
        opacity: 0.01;
        z-index: 100;
      }

      .radiobutton input[type="radio"]:checked+label,
      .Checked+label {
        background: lightgreen;
      }

      .radiobutton label {
        padding: 5px;
        border: 1px solid #CCC;
        border-radius: 5px;
        cursor: pointer;
        z-index: 90;
      }

      .radiobutton label:hover {
        background-color:  gray;
      }
    </style>
  </head>
  <body>
    <div class="header">
      <h3>The following text has been copied to the clipboard and is ready to be pasted into your document.</h3>
      <textarea id="text"></textarea>
    </div>

    <div class="main">
      <button type="button" class="collapsible headingbutton">Patient Presentation</button>
      <div class="content show" id = "div-ptpresentation">
        <input type = "radiobutton" onclick="check(this.id)">Data reviewed from external sources</input>    <br>
        <input type = "radiobutton" onclick="check(this.id)">Additional historian required</input><br>
      </div><br><br>

      <button type="button" class="collapsible headingbutton">Differential Diagnosis</button>
        
      <div class="content show" id = "div-ddx">
        <button class="sxbutton" onclick="showDDX('ddx-abdpain')">Abdominal pain</button>
        <button class="sxbutton"  onclick="showDDX('ddx-chestpain')">Chest pain</button>
        <button class="sxbutton" onclick="showDDX('ddx-dyspnea')">Dyspnea</button>
        <button class="sxbutton" onclick="showDDX('ddx-headache')">Headache</button>
        <button class="sxbutton" onclick="showDDX()">Pelvic pain</button>
        
        <div class="content" name = "sx" id = "ddx-abdpain">
          <!--button class="ddxbutton" id="ddx-selectallabdpain" onclick="check('ddx-appendicitis','ddx-cholecystitis','ddx-diverticulitis','ddx-pancreatitis','ddx-MI'>Select All</button-->
          <button class="ddxbutton" id="ddx-appendicitis" onclick="check(this.id)">Appendicitis</button>
          <button class="ddxbutton" id="ddx-cholecystitis" onclick="check(this.id)">Cholecystitis</button>
          <button class="ddxbutton" id="ddx-diverticulitis" onclick="check(this.id)">Diverticulitis</button>
          <button class="ddxbutton" id="ddx-pancreatitis" onclick="check(this.id)">Pancreatitis</button>
          <button class="ddxbutton" id="ddx-MI" onclick="check(this.id)">MI</button>
        </div>
        
        <div class = "content" name = "sx"  id = "ddx-chestpain">
          <button class="ddxbutton">ACS</button>
          <button class="ddxbutton">PE</button>
          <button class="ddxbutton">Aortic dissection</button>
          <button class="ddxbutton">Pneumothorax</button>
          <button class="ddxbutton">Pneumonia</button>
        </div>
          
        <div class = "content" name = "sx"  id = "ddx-headache">
          <button class="ddxbutton">Subarachnoid hemorrhage</button>
          <button class="ddxbutton">Brain tumor</button>
          <button class="ddxbutton">Migraine headache</button>
          <button class="ddxbutton">Meningitis</button>
          <button class="ddxbutton">Subdural bleed</button>
        </div>
        
        
     </div><br><br>

      <button type="button" class="collapsible">Data Review</button>
      <div class="content show" id = "div-datareview">
        <h4>Tests ordered and reviewed:<h4>
          <button class="choicebutton" name = "testsordered" value = "blood tests" onclick="check(this.id)">Blood tests</button>
          <button class="choicebutton" name = "testsordered" value = "urine tests" onclick="check(this.id)">Urinalysis</button>
          <button class="choicebutton" name = "testsordered" value = "EKG" onclick="check(this.id)">EKG</button>
          <button class="choicebutton" name = "testsordered" value = "imaging" onclick="check(this.id)">Imaging</button>
          <br>
          
        <button class="choicebutton" onclick="check(this.id)">Testing was performed to help rule out these serious or life-threatening problems.</button><br>
        <button class="choicebutton" onclick="check(this.id)">Laboratory tests were unremarkable.</button><br>
        <button class="choicebutton" onclick="check(this.id)">Testing was not supportive of any serious or life-threatening problems.</button><br>
      </div><br><br>

      <button type="button" class="collapsible headingbutton">Independent Review of Studies</button>
      <div class="content" id = "div-independent">
        <button type = "button" class="collapsible subheadingbutton">Independent review of the EKG</button>
        <div class="content">
              <input type= "radio" name = "EKG" onclick="check(this.id)">is documented in this note.</input><br>
              <input type = "radio" name = "EKG" onclick="check(this.id)">shows the EKG is normal.</input><br>
              <input type = "radio" name = "EKG" onclick="check(this.id)">shows the EKG is nonspecific for ACS.</input><br>
              <input type = "radio" name = "EKG" onclick="check(this.id)">shows the EKG is concerning for ACS.</input><br>
        </div><br><br>
        <button type = "button" class="collapsible subheadingbutton">Independent review of the Chest X-ray</button>
        <div class="content">
          <input type = "button" name= "cxr">no acute pathology.</input><br>
          <input type = "button" name = "cxr">an infiltrate concerning for pneumonia.</input><br>
          <input type = "button" name = "cxr">pneumothorax.</input><br>
          <button name = "cxr">CHF</button><br>
        </div><br><br>
        <button type = "button" class="collapsible subheadingbutton">Independent review of the xrays</button>
          <div class="content">
          <input type = "radio" name ="xray">shows no fracture or dislocation.</input><br>
          <input type = "radio" name = "xray">shows a fracture.</input><br>
          <input type = "radio" name = "xray">shows a dislocation.</input><br>
        </div><br><br>
        <button type = "button" class="collapsible subheadingbutton">Independent review of the CT</button>
        <div class="content">
          <input type = "radio" name = "ct">shows no acute pathology.</input><br>
          <input type = "radio" name = "ct">shows a kidney stone.</input><br>
          <input type = "radio" name = "ct">shows diverticulitis.</input><br>
          <input type = "radio" name = "ct">shows [ct result].</input><br>
        </div><br><br>
      </div><br><br>

      <button type="button" class="collapsible headingbutton">Independent Clinician</button>
      <div class="content show" id = "div-uri1">
        <input type = "checkbox">My discussion with an independent clinician is documented in this note.</input>
      </div><br><br>

      <button type="button" class="collapsible headingbutton">Risk Stratification Tools</button>
      <div class="content" id = "div-tools">
        <button class="choicebutton">CHA2DS2-VASc</button>
        <button class="choicebutton">HEART score</button>
        <button class="choicebutton">Wells' criteria for DVT</button>
        
      </div><br><br>

      <button type="button" class="collapsible headingbutton">Disposition</button>
      <div class="content show" id = "div-dispo">
        <button type = "button" class="collapsible subheadingbutton">Shared-decision making</button>
        <div class="content">
          <input type = "checkbox">I discussed the options with the patient who agreed to admisison.</input><br>
          <input type = "checkbox">I have discussed the discharge plan as described below with the patient, who is in agreement with the plan.</input><br>

          <h4>De-escalation of care</h4>
          <button class="choicebutton">DNR</button>
          <button class="choicebutton">DNI</button>
          <button class="choicebutton">Hospice</button>
          <button class="choicebutton">Comfort care</button>
          <button class="choicebutton">No more aggressive treatment than currently being given</button>





  </div><br><br>
   <button type = "button" class="collapsible subheadingbutton">Social determinants of health</button>
        <div class="content">
          <button class="choicebutton" value = "homelessness" onclick="check(this.id)">Homelessness</button>
          <button class="choicebutton" value = "lack of social support" onclick="check(this.id)">Lack of social support</button>
          <button class="choicebutton" value = "food insecurity" onclick="check(this.id)">Food insecurity</button>
          <button class="choicebutton" value = "lack of insurance" onclick="check(this.id)">Lack of insurance</button>
          <button class="choicebutton" value = "inability to obtain medications" onclick="check(this.id)">Inability to obtain medications</button>
          
          
          
        
  </div><br><br>
   <button type = "button" class="collapsible subheadingbutton">Discharge</button>
        <div class="content">
        <h4>Follow up arrangements</h4>
    <h5>Referral</h5>
          <button class="choicebutton" value = "cardiology" onclick="check(this.id)">Cardiology</button>
          <button class="choicebutton" value = "orthopedics" onclick="check(this.id)">Orthopedics</button>
          <button class="choicebutton" value = "gynecology" onclick="check(this.id)">Gynecology</button>
          <button class="choicebutton"  value = "a new PCP" onclick="check(this.id)">a new PCP</button>
          <button class="choicebutton" value = "endocrinology" onclick="check(this.id)">Endocrinology</button>
          
        <input type = "checkbox">I have filled out a referral form</h4>
    <h5>Outpatient testing</h5>
          <button class="choicebutton" name = "outpt testing" value = "colonoscopy" onclick="check(this.id)">Colonoscopy</button><br>
          <button class="choicebutton" name = "outpt testing" value = "upper endoscopy" onclick="check(this.id)">Upper Endoscopy</button><br>
          <button class="choicebutton" name = "outpt testing" value = "Holter monitor" onclick="check(this.id)">Holter monitor</button><br>
          <button class="choicebutton" name = "outpt testing" value = "stress test" onclick="check(this.id)">Stress test</button><br>
          <button class="choicebutton" name = "outpt testing" value = "EEG" onclick="check(this.id)">EEG</button><br>
          <button class="choicebutton" name = "outpt testing" value = "gallbladder ultrasound" onclick="check(this.id)">Gallbladder US</button><br>
          <button class="choicebutton" name = "outpt testing" value = "pelvic ultrasound" onclick="check(this.id)">Pelvic ultrasound</button><br>
          <button class="choicebutton" name = "outpt testing" value = "CT chest" onclick="check(this.id)">CT chest</button><br>
          <button class="choicebutton" name = "outpt testing" value = "CT abdomen & pelvis" onclick="check(this.id)">CT abdomen & pelvis</button><br>
          <button class="choicebutton" name = "outpt testing" value = "duplex ultrasound of the right leg" onclick="check(this.id)">Duplex ultrasound RIGHT LEG</button><br>
          <button class="choicebutton" name = "outpt testing" value = "duplex ultrasound of the left leg" onclick="check(this.id)">Duplex ultrasound LEFT LEG</button><br>
          <button class="choicebutton" name = "outpt testing" value = "carotid duplex ultrasound" onclick="check(this.id)">Carotid duplex US</button><br>
          <button class="choicebutton" name = "outpt testing" value = "echocardiogram" onclick="check(this.id)">Echo</button><br>
          <button class="choicebutton" name = "outpt testing" value = "[outpatient test]" onclick="check(this.id)">[    ]</button><br>
    
  </div><br><br>
   <button type = "button" class="collapsible subheadingbutton">Admit</button>
        <div class="content">
        <h4>Admit</h4>
        <input type = "checkbox">The decision was made to admit the patient.</input><br>
  </div><br><br>
   <button type = "button" class="collapsible subheadingbutton">Transfer</button>
        <div class="content">
        <input type = "checkbox">The decision was made to transfer the patient due to the need for a higher level of care.  My discussion with the accepting physician is documented elsewhere in this note.</input>
  </div><br><br>
    </div><br><br>
</div>
      <script>
        var coll = document.getElementsByClassName("collapsible");
        var i;

        for (i = 0; i < coll.length; i++) {
          coll[i].addEventListener("click", function() {
            this.classList.toggle("active");
            var content = this.nextElementSibling;
            if (content.style.display === "block") {
              content.style.display = "none";
            } else {
              content.style.display = "block";
            }
          });
        }    
        
        function showDDX(id) {
          var list = document.getElementsByName('sx');
          
          for (let i = 0; i<list.length; i++) {
            list[i].style.display = 'none';
          }
          
          document.getElementById(id).style.display = "block";
          document.getElementById(id).checked = true;
         }
        
        function check(id) {
          console.log(id);
          document.getElementById(id).checked == !document.getElementById(id).checked;
          if (document.getElementById(id).style.color == 'gray') {
            document.getElementById(id).style.color = 'lightblue';
          }
          else {
            document.getElementById(id).style.color = 'gray';
          }
          var list = document.getElementsByTagName('checked');
          var t = "";
          t = t + "[Patient Presentation]";
          t = t + "Data was reviewed from external sources as documented in the HPI. ";
          t = t + "Additional historians were required as documented in the HPI. ";
          t = t + "Differential diagnosis considered included serious or life-threatening conditions including ";
          /* combine radiobuttons for differential diagnosis */
          t = t + "\n\n";
          t = t + "Data Review:\n";
          t = t + "I ordered and reviewed tests, including ***, to help rule out these serious or life-threatening conditions. ";
 
          
          /* combine radiobuttons for tests */
          t = t + "";
          t =t + "The tests were unremarkable. ";
          t = t + "The tests were not supportive of these conditions. ";
          t = t + "\n\n";
          t = t + "Independent review:";
          t = t + "My independent review of the EKG is ***";
          /* radiobutton result */
          t = t + "My independent review of the chest x-ray ***";
          /* radiobutton results */
          t = t + "My independent review of the xrays ***";
          /* */
          t = t + "My independent review of the CT ***";
          /* */
          t = t + "My discussion was independent clinicians is documented in this note. ";
          t = t + "\n\n";
          t = t + "Risk Stratification: \n";
          t = t + "HEART score = 4";
          /* results of tools */
          t = t + "\n\n";
          t = t + "Disposition:\n ";
          t = t + "I discussed the options with the patient who agreed with admission. ";
          t = t + "Due to the patient's poor prognosis, I discussed de-escalation of care with the patient and/or their surrogates who decided ***";
          t = t + "My decision regarding treatment was affected by social determinants of health including ***";
          t = t + "I referred the patient to [referral]. ";
          t = t + "Outpatient tests I ordered include [tests] ";
          t = t + "";
          t = t + "";
          
          navigator.clipboard.writeText(t);
          document.getElementById("text").innerHTML = t;
          
        }
      </script>

  </body>
</html>
