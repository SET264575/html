<html>
  <head>
    <title>
      Element Quiz
    </title>
    <link rel="stylesheet" href="..\science.css">
    <style>
      .flex-container {
        display: flex;
        justify-content: center;
        flex-direction: column;
      }
      
      #element {
        font-family: Arial;
        font-size: 40px;
        font-weight: bold;
      }
      #right {
        color: green;
      }

      #start {
        color: white;
        background: green;
        height: 40px;
        padding: 10px;
        border-radius: 5px;
        width: 100px;
      }
    </style>
    <link rel="icon" type="image/jpg" href="../atom.jpg"/>

  </head>
  <body>
    <div id="divHeader2"></div>
    <div id="divMain" class="flex-container">
      <h1>Element Matching Quiz</h1>

      <pre>Select the list of elements you want to use.</pre>
      <div style="border: 1px solid blue; width: 400px;" >
      <input type="radio" name="quiz" value="0" checked>Common Elements in Chemical Equations</input><br>
      <input type="radio" name='quiz' value = '1'>First 20 Elements</input><br>
      <input type="radio" name="quiz" value='2'>Elements with Symbols Derived From Latin Names</input><br>
      </div>
      <!--input type="radio" name="quiz" value='3'>Common Element in Nuclear Physics</input><br-->

      <pre>Select the type of game you want to play. </pre>
      <div style="border: 1px solid blue; width: 400px;" >
      <input type="radio" name="type" value="0" checked>Symbol to Name</input><br>
      <input type="radio" name='type' value = '1'>Name to Symbol</input><br>
      <input type="radio" name="type" value='2'>Name to Atomic Number</input><br>
      <input type="radio" name="type" value='3'>Atomic Number to Name</input><br>
      </div>
      <br>

      <button id="start" onClick="begin()">Start</button>
      <div id = 'hiddenDiv' style="hidden: true">
      <pre>Type in the chemical symbol that matches the elements.  Be sure to capitalize the first letter.</pre>
      <p id="element"> </p>
      <input id = "symbol" onKeyPress="check(event,this.value)"><br><br><br>
     <p> Total Questions: <span id="total"></span>&nbsp;&nbsp;
      Questions Answered: <span id="answered"></span>  &nbsp;&nbsp;
      Questions Correct: <span id="right"></span></p>
        <br>
        <br>
        <p id= 'results'></p>
      </div>
    </div>
    <script>

      var quiz = []
      quiz.push([1,3,6,7,8,9,11,12,13,14,15,16,17,19,20,24,25,26,27,28,29,30,35,47,50,53]);
      quiz.push([1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]);
      quiz.push([11,19,26,29,47,50,51,74,79,80,82]);
      //quiz.append([]);
      class Element {
        constructor(name,symbol,number) {
            this.name = name;
            this.symbol = symbol;
            this.number = number;
        }
      }
      var scoreRight = 0;
      var answered = 0;
      var name;
      var symbol ='';
      var elements = []
      elements.push(new Element('','',0));
      elements.push(new Element('hydrogen','H',1));
      elements.push(new Element('helium','He',2));
      elements.push(new Element('lithium','Li',3));
      elements.push(new Element('beryllium','Be',4));
      elements.push(new Element('boron','B',5));
      elements.push(new Element('carbon','C',6));
      elements.push(new Element('nitrogen','N',7));
      elements.push(new Element('oxygen','O',8));
      elements.push(new Element('fluorine','F',9));
      elements.push(new Element('neon','Ne',10));
      elements.push(new Element('sodium','Na',11));
      elements.push(new Element('magnesium','Mg',12));
      elements.push(new Element('aluminum','Al',13));
      elements.push(new Element('silicon','Si',14));
      elements.push(new Element('phosphorus','P',15));
      elements.push(new Element('sulfur','S',16));
      elements.push(new Element('chlorine','Cl',17));
      elements.push(new Element('argon','Ar',18));
      elements.push(new Element('potassium','K',19));
      elements.push(new Element('calcium','Ca',20));
      elements.push(new Element('','',21));
      elements.push(new Element('','',22));
      elements.push(new Element('','',23));
      elements.push(new Element('chromium','Cr',24));
      elements.push(new Element('manganese','Mn',25));
      elements.push(new Element('iron','Fe',26));
      elements.push(new Element('cobalt','Co',27));
      elements.push(new Element('nickel','Ni',28));
      elements.push(new Element('copper','Cu',29));
      elements.push(new Element('zinc','Zn',30));
      elements.push(new Element('','',31));
      elements.push(new Element('','',32));
      elements.push(new Element('','',33));
      elements.push(new Element('','',34));
      elements.push(new Element('bromine','Br',35));
      elements.push(new Element('','',36));
      elements.push(new Element('','',37));
      elements.push(new Element('','',38));
      elements.push(new Element('','',39));
      elements.push(new Element('','',40));
      elements.push(new Element('','',41));
      elements.push(new Element('','',42));
      elements.push(new Element('','',43));
      elements.push(new Element('','',44));
      elements.push(new Element('','',45));
      elements.push(new Element('','',46));
      elements.push(new Element('silver','Ag',47));
      elements.push(new Element('','',48));
      elements.push(new Element('','',49));
      elements.push(new Element('tin','Sn',50));
      elements.push(new Element('antimony','Sb',51));
      elements.push(new Element('','',52));
      elements.push(new Element('iodine','I',53));
      elements.push(new Element('','',54));
      elements.push(new Element('','',55));
      elements.push(new Element('','',56));
      elements.push(new Element('','',57));
      elements.push(new Element('','',58));
      elements.push(new Element('','',59));
      elements.push(new Element('','',60));
      elements.push(new Element('','',61));
      elements.push(new Element('','',62));
      elements.push(new Element('','',63));
      elements.push(new Element('','',64));
      elements.push(new Element('','',65));
      elements.push(new Element('','',66));
      elements.push(new Element('','',67));
      elements.push(new Element('','',68));
      elements.push(new Element('','',69));
      elements.push(new Element('','',70));
      elements.push(new Element('','',71));
      elements.push(new Element('','',72));
      elements.push(new Element('','',73));
      elements.push(new Element('tungsten','W',74));
      elements.push(new Element('','',75));
      elements.push(new Element('','',76));
      elements.push(new Element('','',77));
      elements.push(new Element('','',78));
      elements.push(new Element('gold','Au',79));
      elements.push(new Element('mercury','Hg',80));
      elements.push(new Element('','',81));
      elements.push(new Element('lead','Pb',82));
      elements.push(new Element('','',83));
      elements.push(new Element('','',84));
      elements.push(new Element('','',85));
      elements.push(new Element('','',86));
      elements.push(new Element('','',87));
      elements.push(new Element('','',88));
      elements.push(new Element('','',89));
      elements.push(new Element('','',90));
      elements.push(new Element('','',91));
      elements.push(new Element('','',92));
      elements.push(new Element('','',93));
      elements.push(new Element('','',94));
      elements.push(new Element('','',95));
      elements.push(new Element('','',96));
      elements.push(new Element('','',97));
      elements.push(new Element('','',98));
      elements.push(new Element('','',99));
      elements.push(new Element('','',100));
      elements.push(new Element('','',101));
      elements.push(new Element('','',102));
      elements.push(new Element('','',103));
      elements.push(new Element('','',104));
      elements.push(new Element('','',105));
      elements.push(new Element('','',106));
      elements.push(new Element('','',107));
      elements.push(new Element('','',108));
      elements.push(new Element('','',109));
      elements.push(new Element('','',110));
      elements.push(new Element('','',111));
      elements.push(new Element('','',112));
      elements.push(new Element('','',113));
      elements.push(new Element('','',114));
      elements.push(new Element('','',115));
      elements.push(new Element('','',116));
      elements.push(new Element('','',117));

      //k = quiz list, i = element in list, j = type of quiz

      var i=-1;
      var results = '<table><tr><th>Element Name</th><th>Element Symbol</th><th>Your Answer</th></tr>';
      var currentQuiz= [];

      function begin() {
        scoreRight = 0;
        answered = 0;
        document.getElementById('hiddenDiv').hidden = false;
        document.getElementById('start').innerHTML = 'Reset';
        document.getElementById('answered').innerHTML = answered;
        document.getElementById('right').innerHTML = scoreRight;
        k = document.querySelector('input[name="quiz"]:checked').value;
        currentQuiz = quiz[k].slice();
        shuffle(currentQuiz);
        console.log(currentQuiz);
        document.getElementById('total').innerHTML = currentQuiz.length;
        i = getNext();
        displayNext();

      }
      
      function check(event,s) {
        j = document.querySelector('input[name="type"]:checked').value;

        if (event.keyCode == 13) {
          clr = 'red';
          if (s == symbol && j == 0) {
            scoreRight++;
            clr = 'green';
          }
          if (s == name && j == 1) {
            scoreRight++;
            clr = 'green';
          }
          results = results + '<tr><td>'+name+'</td><td>'+symbol+'</td><td style="color: '+clr+'">'+s+'</td></tr>';

            answered++;
            document.getElementById('answered').innerHTML = answered;
            document.getElementById('right').innerHTML = scoreRight;
            i = getNext();
          if (i < currentQuiz.length) {
            displayNext();
          }
            document.getElementById('symbol').value = '';
        }
      }

      function getNext() {
        i++;
        if (i == currentQuiz.length) {
          document.getElementById('element').innerHTML = 'Quiz Finished!  See Results Below.';
          results = results + '</table>';
          console.log(results);
          document.getElementById('results').innerHTML = results;
        }
        return (i);
        //return( Math.floor(Math.random()*currentQuiz.length));
      }
      function displayNext() {
        j = document.querySelector('input[name="type"]:checked').value;
        if (j == 0) {
          name = elements[currentQuiz[i]].name;
          symbol = elements[currentQuiz[i]].symbol;
          document.getElementById('element').innerHTML = name;
          document.getElementById('symbol').focus();
        }
        if (j == 1) {
          symbol = elements[currentQuiz[i]].symbol;
          name = elements[currentQuiz[i]].name;
          document.getElementById('element').innerHTML = symbol;
        }

      }
      
      function shuffle(a) {
        var j, x, i;
        for (i = a.length - 1; i > 0; i--) {
            j = Math.floor(Math.random() * (i + 1));
            x = a[i];
            a[i] = a[j];
            a[j] = x;
        }
        return a;
      }

    </script>
    <script src="..\science.js"></script>
  </body>
</html>
